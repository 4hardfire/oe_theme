{#
/**
 * @file
 * Theme override for a 'form' element.
 *
 * @see ./core/themes/stable/templates/form/form.html.twig
 * @see @ecl-twig/ec-component-search-form.twig
 */
#}
{% set text_input = {
  id: input_array.id,
  name: input_array.name,
  label: input_array.label|default('Search'|t),
  hide_label: input_array.hide_label|default(false),
  invalid: input_array.invalid,
  disabled: input_array.disabled,
  type: input_array.type,
  extra_classes: input_array.class|merge(['ecl-search-form__text-input'])|safe_join(' '),
  extra_attributes: input_array.extra_attributes,
  extra_group_classes: 'ecl-form-group--text-input'
} %}
{% set button = {
  variant: 'search',
  icon: {
    type: 'general',
    name: 'search',
    path: ecl_icon_path,
    size: 'fluid'
  },
  label: 'Search'|t,
  extra_classes: 'ecl-search-form__button'
} %}
{% set extra_attributes = attributes|to_ecl_attributes|merge([{'name': 'data-ecl-search-form'}]) %}
{% set extra_classes = 'ecl-site-header-core__search' %}
{% extends '@ecl-twig/search-form' %}
{% block extra_form_elements %}
  {{ element.form_build_id }}
  {{ element.form_token }}
  {{ element.form_id }}
{% endblock extra_form_elements %}
{% block search_form %}
  <div class="ecl-site-header-core__search-container">
      <a
        class="ecl-link ecl-link--standalone ecl-site-header-core__search-toggle"
        href="{{ _search_toggle.href }}"
        data-ecl-search-toggle="true"
        aria-controls="search-form-id"
        aria-expanded="false"
      >
        {%- include '@ecl-twig/ec-component-icon/ecl-icon.html.twig' with {
          icon: {
            name: 'search',
            path: ecl_icon_path,
            type: 'general',
            size: 's',
            extra_attributes: [
              { name: 'aria-hidden', value: true }
            ],
            _compliance_: _compliance,
            _compliance_inner_check_: true
          }
        } only -%}
        {{- text_input.label -}}
      </a>
  {{ parent() }}
  </div>
{% endblock search_form %}
