{#
/**
 * @file
 * Gallery component.
 */
#}
{# Process value objects into ECL compatible array. #}

{% set _items = [] %}
{% for _item in items %}
  {% set _item = _item|merge({
    'icon': {
      'path': ecl_icon_path,
      'type': 'general',
      'name': _item.icon,
      'size': 's'
    },
    'path': _item.media.thumbnail.src,
    'alt': _item.media.thumbnail.alt,
    'description': _item.media.caption
  }) %}
  {% set _items = _items|merge([_item]) %}
{% endfor %}

{% include '@ecl/gallery' with {
  'overlay': {
    'close': {
      'variant': 'ghost',
      'label': 'Close'|t,
      'icon': {
        'path': ecl_icon_path,
        'type': 'ui',
        'name': 'close',
        'size': 's',
      },
    },
    'previous': {
      'variant': 'ghost',
      'label': 'Previous'|t,
      'icon': {
        'path': ecl_icon_path,
        'type': 'ui',
        'name': 'corner-arrow',
        'transform': 'rotate-270',
        'size': 'l',
      },
      'icon_position': 'before',
    },
    'next': {
      'variant': 'ghost',
      'label': 'Next'|t,
      'icon': {
        'path': ecl_icon_path,
        'type': 'ui',
        'name': 'corner-arrow',
        'transform': 'rotate-90',
        'size': 'l',
      },
    },
    'download': {
      'label': 'Download'|t,
      'link': {},
      'icon': {
        'path': ecl_icon_path,
        'type': 'ui',
        'name': 'download',
        'size': 'fluid',
      },
    },
    'share': {
      'label': 'Share',
      'link': {},
      'icon': {
        'path': ecl_icon_path,
        'type': 'general',
        'name': 'share',
        'size': 'fluid',
      },
    },
  },
  'items': _items
} %}
